<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="google-site-verification" content="kpbWRIhynKBS8mLaEpmMxE8cHsKNrjQmoMV7gS0lCps"/><base href="/"/><title>Download Instagram reels by scraping using NodeJS</title><meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/><meta name="title" content="Download Instagram reels by scraping using NodeJS"/><meta name="description" content="How to use NodeJS to scrape direct video links of Instagram Links using Puppeeteer and Cheerio."/><meta property="og:type" content="website"/><meta property="og:title" content="Download Instagram reels by scraping using NodeJS"/><meta property="og:description" content="How to use NodeJS to scrape direct video links of Instagram Links using Puppeeteer and Cheerio."/><meta property="og:image" itemProp="image" content="https://artaza.in/graphics/blog-cover/nodejs_puppeteer_reel.png"/><meta property="twitter:card" content="summary_large_image"/><meta property="twitter:title" content="Download Instagram reels by scraping using NodeJS"/><meta property="twitter:description" content="How to use NodeJS to scrape direct video links of Instagram Links using Puppeeteer and Cheerio."/><meta property="twitter:image" content="https://artaza.in/graphics/blog-cover/nodejs_puppeteer_reel.png"/><meta name="next-head-count" content="15"/><link rel="icon" href="./graphics/artaza-logo.svg"/><link rel="preload" href="/_next/static/css/621b5f09b3a8ed95.css" as="style"/><link rel="stylesheet" href="/_next/static/css/621b5f09b3a8ed95.css" data-n-g=""/><link rel="preload" href="/_next/static/css/68d8867e1e4f8997.css" as="style"/><link rel="stylesheet" href="/_next/static/css/68d8867e1e4f8997.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-59c5c889f52620d6.js" defer=""></script><script src="/_next/static/chunks/framework-3b5a00d5d7e8d93b.js" defer=""></script><script src="/_next/static/chunks/main-f2e125da23ccdc4a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-ea192f86ead45c0f.js" defer=""></script><script src="/_next/static/chunks/664-1b4479b4462ded63.js" defer=""></script><script src="/_next/static/chunks/691-c794fc42a4476577.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-2a2b7902f4764502.js" defer=""></script><script src="/_next/static/Dcz99DAqx-BYYFOyU2D2T/_buildManifest.js" defer=""></script><script src="/_next/static/Dcz99DAqx-BYYFOyU2D2T/_ssgManifest.js" defer=""></script></head><body><div id="__next"><a href="/blog"><button class="blog_back_button__ZXg2c">âžœ</button></a><main class="__className_37865d"><div class="blog_blog_page_wrapper__FyeSS"><div class="blog_blog_page__Dpz4Y"><div class="blog_post_info__RFq7N"><img src="./graphics/blog-cover/nodejs_puppeteer_reel.png" alt="blog page cover" class="blog_cover_image__ijGpS"/><h1 class="blog_title__dLTYQ">Download Instagram reels by scraping using NodeJS</h1><div class="blog_date__YKU3Y">May 12, 2023</div><div class="blog_tags__1olfU"><span> <!-- -->nodejs<!-- --> </span><span> <!-- -->web scraping<!-- --> </span></div></div><article class="blog_post_content__VVCpL"><h2 id="introduction">Introduction</h2>
<p>Today, we are going to use web scraping in NodeJS to extract direct download links for Instagram Reels Video</p>
<h2 id="install-required-npm-packages">Install Required NPM Packages</h2>
<p><strong><code>Puppeteer</code></strong> : Puppeteer is a Node.js library which provides a high-level API to control Chrome/Chromium ( Browser )</p>
<p><strong><code>Cheerio</code></strong> : Cheerio is a HTML DOM parser and helps us traverse raw HTML and XML</p>
<pre><code class="language-bash">npm install puppeteer
npm install cheerio
</code></pre>
<p>Firs, we need get the raw generated HTML, using <code>Pupperteer</code> and then parse the HTML using <code>Cheerio</code> to extract out the direct download link.</p>
<p><br><br><strong>Note</strong>: We are using <code>Puppeteer</code> to get the HTML because the video link is hydrated into the page using Javascript. If, we use a simple request to get the raw HTML, the video tag won&#39;t be available</p>
<h2 id="first-step-get-the-raw-html">First Step (Get the raw HTML)</h2>
<p>This is how the raw HTML looks likes when we inspect the page</p>
<p><img src="./graphics/blog-images/download-instagram-reels-by-scraping-using-nodejs/instagramDOM.png" alt="Instagram Reel Link Page Inspect Image" title="MarineGEO logo" style="width: 100%;"></p>
<p>Define a function that gets the raw HTML, including the <code>video</code> tag</p>
<pre><code class="language-javascript">async function getHTML(url) {
  // Launch a headless browser instance
  const browser = await puppeteer.launch({ headless: &quot;new&quot; });

  // Create a new page
  const page = await browser.newPage();

  // Navigate to a URL
  await page.goto(url);

  // Wait for the video tag to appear
  await page.waitForSelector(&quot;video&quot;);

  // Get the HTML content
  const html = await page.content();

  // Close the browser
  await page.close();
  await browser.close();

  // Return the HTML content
  return html;
}
</code></pre>
<h2 id="second-step-parse-the-raw-html">Second Step (Parse the raw HTML)</h2>
<p>We are going to parse the raw HTML, that we get from the <code>getHTML()</code> function</p>
<pre><code class="language-javascript">async function getReelVideo(url) {
  const html = await getHTML(url);

  // calls cheerio to process the html received
  const $ = cheerio.load(html);

  // Searches the html for the video tag and get the src atttribute
  const videoDirectLink = $(&quot;video&quot;).attr(&quot;src&quot;);

  // returns the direct video link
  return videoDirectLink;
}
</code></pre>
<h2 id="last-part">Last Part</h2>
<p>Now we can run the <code>getReelVideo()</code> function the get direct download link of a Instagram Reel</p>
<pre><code class="language-javascript">getReelVideo(&quot;https://www.instagram.com/reel/CrQ9TvAAuRe/&quot;).then((link) =&gt;
  console.log(link)
);
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-bash">https://instagram.fccu19-1.fna.fbcdn.net/v/t66.30100-16/120641351_1702239160229021_7989127058867652451_n.mp4?_nc_ht=instagram.fccu19-1.fna.fbcdn.net&amp;_nc_cat=105&amp;_nc_ohc=QoyEWM5tB-AAX_8SGz5&amp;edm=AP_V10EBAAAA&amp;ccb=7-5&amp;oh=00_AfAU1hwxYlztdGfqHxpNxyTBDCOzNnLwBw7KnEdj7dLAuw&amp;oe=6463ADB1&amp;_nc_sid=4f375e
</code></pre>
</article></div></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"Download Instagram reels by scraping using NodeJS","date":"May 12, 2023","description":"How to use NodeJS to scrape direct video links of Instagram Links using Puppeeteer and Cheerio.","tags":["nodejs","web scraping"],"cover_image":"./graphics/blog-cover/nodejs_puppeteer_reel.png","og_image":"https://artaza.in/graphics/blog-cover/nodejs_puppeteer_reel.png"},"content":"\n## Introduction\n\nToday, we are going to use web scraping in NodeJS to extract direct download links for Instagram Reels Video\n\n## Install Required NPM Packages\n\n**`Puppeteer`** : Puppeteer is a Node.js library which provides a high-level API to control Chrome/Chromium ( Browser )\n\n**`Cheerio`** : Cheerio is a HTML DOM parser and helps us traverse raw HTML and XML\n\n```bash\nnpm install puppeteer\nnpm install cheerio\n```\n\nFirs, we need get the raw generated HTML, using `Pupperteer` and then parse the HTML using `Cheerio` to extract out the direct download link.\n\n\\\n\\\n**Note**: We are using `Puppeteer` to get the HTML because the video link is hydrated into the page using Javascript. If, we use a simple request to get the raw HTML, the video tag won't be available\n\n## First Step (Get the raw HTML)\n\nThis is how the raw HTML looks likes when we inspect the page\n\n![Instagram Reel Link Page Inspect Image](./graphics/blog-images/download-instagram-reels-by-scraping-using-nodejs/instagramDOM.png \"MarineGEO logo\")\n\nDefine a function that gets the raw HTML, including the `video` tag\n\n```javascript\nasync function getHTML(url) {\n  // Launch a headless browser instance\n  const browser = await puppeteer.launch({ headless: \"new\" });\n\n  // Create a new page\n  const page = await browser.newPage();\n\n  // Navigate to a URL\n  await page.goto(url);\n\n  // Wait for the video tag to appear\n  await page.waitForSelector(\"video\");\n\n  // Get the HTML content\n  const html = await page.content();\n\n  // Close the browser\n  await page.close();\n  await browser.close();\n\n  // Return the HTML content\n  return html;\n}\n```\n\n## Second Step (Parse the raw HTML)\n\nWe are going to parse the raw HTML, that we get from the `getHTML()` function\n\n```javascript\nasync function getReelVideo(url) {\n  const html = await getHTML(url);\n\n  // calls cheerio to process the html received\n  const $ = cheerio.load(html);\n\n  // Searches the html for the video tag and get the src atttribute\n  const videoDirectLink = $(\"video\").attr(\"src\");\n\n  // returns the direct video link\n  return videoDirectLink;\n}\n```\n\n## Last Part\n\nNow we can run the `getReelVideo()` function the get direct download link of a Instagram Reel\n\n```javascript\ngetReelVideo(\"https://www.instagram.com/reel/CrQ9TvAAuRe/\").then((link) =\u003e\n  console.log(link)\n);\n```\n\n**Output:**\n\n```bash\nhttps://instagram.fccu19-1.fna.fbcdn.net/v/t66.30100-16/120641351_1702239160229021_7989127058867652451_n.mp4?_nc_ht=instagram.fccu19-1.fna.fbcdn.net\u0026_nc_cat=105\u0026_nc_ohc=QoyEWM5tB-AAX_8SGz5\u0026edm=AP_V10EBAAAA\u0026ccb=7-5\u0026oh=00_AfAU1hwxYlztdGfqHxpNxyTBDCOzNnLwBw7KnEdj7dLAuw\u0026oe=6463ADB1\u0026_nc_sid=4f375e\n```\n","slug":"download-instagram-reels-by-scraping-using-nodejs"},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"download-instagram-reels-by-scraping-using-nodejs"},"buildId":"Dcz99DAqx-BYYFOyU2D2T","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>